# Intuition

To determine customer satisfaction regarding delivery times, we only care about **each customer’s first order**. If their first order was delivered on the date they preferred, then they are considered to have had an “immediate” delivery experience. Therefore, the problem becomes identifying each customer's first order and checking how many of those were immediate.

# Approach

1. **Find each customer's first order** using `MIN(order_date)` grouped by `customer_id`.
2. Use a tuple comparison `(customer_id, order_date)` to filter only those first orders.
3. For those filtered rows, evaluate whether the order was immediate by checking  
   `order_date = customer_pref_delivery_date`.
4. Use the MySQL trick `SUM(condition)` which counts `TRUE` as `1` and `FALSE` as `0`.
5. Compute the percentage of customers who had immediate first deliveries:
   \[
   \text{percentage} = \frac{\text{immediate first orders}}{\text{total customers}} \times 100
   \]
6. Round the result to **2 decimal places**.

# Complexity

- **Time complexity:**
  - The subquery groups by customers: \(O(n)\).
  - The outer query scans the filtered first-order rows: \(O(n)\).  
    Overall: **O(n)**.

- **Space complexity:**  
  Only intermediate values used in grouping → **O(1)** additional space.

# Code

```mysql
SELECT
    ROUND(
        100 * SUM(order_date = customer_pref_delivery_date)
        / COUNT(*)
    , 2) AS immediate_percentage
FROM Delivery
WHERE (customer_id, order_date) IN (
    SELECT customer_id, MIN(order_date)
    FROM Delivery
    GROUP BY customer_id
);
```
