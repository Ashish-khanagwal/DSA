# Intuition

We need to calculate the **confirmation rate for every user who signed up**.  
Even if a user has **no confirmation records**, they must still appear in the result with a confirmation rate of `0`.

Therefore, all users from the `Signups` table must be preserved.

---

# Approach

1. **Preserve all users**
   - Use a `LEFT JOIN` from `Signups` to `Confirmations` so users without confirmations are not dropped.

2. **Count confirmed actions**
   - Use conditional aggregation:
     ```sql
     SUM(CASE WHEN c.action = 'confirmed' THEN 1 ELSE 0 END)
     ```
     to count only confirmed actions.

3. **Compute the confirmation rate**
   - Divide confirmed actions by total confirmation attempts.
   - Use `ROUND(..., 2)` to round the result to two decimal places.

4. **Group by user**
   - Group by `user_id` to calculate the rate per user.

---

# Complexity

- **Time complexity:**  
  $$O(n)$$  
  Each row from the joined tables is processed once.

- **Space complexity:**  
  $$O(1)$$  
  No extra data structures are used beyond the output.

---

# Code

```mysql
SELECT
    s.user_id,
    ROUND(
        SUM(CASE WHEN c.action = 'confirmed' THEN 1 ELSE 0 END) / COUNT(*),
        2
    ) AS confirmation_rate
FROM Signups s
LEFT JOIN Confirmations c
    ON s.user_id = c.user_id
GROUP BY s.user_id;
```
