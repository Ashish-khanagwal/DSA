# Intuition

To find the top three earners in each department, we must consider that salaries can repeat.  
Therefore, we need to rank **unique** salaries within each department and select employees whose salaries fall within the top three ranks.

# Approach

1. **Join** the `Employee` and `Department` tables to access department names.
2. Use a **window function** `DENSE_RANK()` to rank salaries within each department:
   - `PARTITION BY departmentId` separates departments.
   - `ORDER BY salary DESC` ranks salaries from highest to lowest.
   - `DENSE_RANK` ensures employees with the same salary receive the same rank.
3. Select only rows where `salary_rank <= 3`, i.e., top three unique salaries.
4. Return Department, Employee, and Salary.

# Complexity

- **Time complexity:**  
  Ranking each employee requires scanning all employee records once → **O(n)**.

- **Space complexity:**  
  The window function and subquery use temporary memory proportional to the number of employees → **O(n)**.

# Code

```mysql
SELECT
    Department,
    Employee,
    Salary
FROM (
    SELECT
        d.name AS Department,
        e.name AS Employee,
        e.salary AS Salary,
        DENSE_RANK() OVER (
            PARTITION BY e.departmentId
            ORDER BY e.salary DESC
        ) AS salary_rank
    FROM Employee e
    JOIN Department d
        ON e.departmentId = d.id
) AS ranked
WHERE salary_rank <= 3;
```
