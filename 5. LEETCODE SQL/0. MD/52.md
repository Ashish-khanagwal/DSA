# Intuition

The goal is to identify customers who visited the store but **did not make any transactions** during those visits.  
A visit without a matching transaction appears when `visit_id` exists in the `Visits` table but not in the `Transactions` table.  
We also need to count how many such no-transaction visits each customer made.

# Approach

1. Use a `LEFT JOIN` between `Visits` and `Transactions` on `visit_id`.
   - Visits with no matching transaction will have `NULL` in `transaction_id`.
2. Filter for these cases using `WHERE t.transaction_id IS NULL`.
3. Use a window function `COUNT(*) OVER (PARTITION BY customer_id)` to count the number of no-transaction visits per customer.
4. Use `DISTINCT` to ensure each customer appears only once in the output while still keeping their count.

# Complexity

- **Time Complexity:**  
  Joining and windowing over all visits → **O(n)**
- **Space Complexity:**  
  Uses minimal extra space aside from output → **O(1)** or **O(k)** depending on number of customers.

# Code

```mysql
SELECT DISTINCT
    v.customer_id,
    COUNT(*) OVER (PARTITION BY v.customer_id) AS count_no_trans
FROM Visits v
LEFT JOIN Transactions t
    ON v.visit_id = t.visit_id
WHERE t.transaction_id IS NULL;
```
