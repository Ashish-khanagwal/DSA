# Intuition

The goal is to count how many accounts fall into each salary category and **still show categories even when no accounts exist for them**.  
Using `GROUP BY` with a derived category would drop categories that have zero matching rows, so we need a way to **force all categories to appear**.

---

# Approach

1. **Create each category explicitly**
   - Write a separate `SELECT` for each salary category (`Low`, `Average`, `High`).
   - This guarantees that every category produces exactly one row.

2. **Use conditional aggregation**
   - Inside each `SELECT`, use:
     ```sql
     SUM(CASE WHEN condition THEN 1 ELSE 0 END)
     ```
   - If no rows satisfy the condition, the sum correctly evaluates to `0`.

3. **Combine results**
   - Use `UNION ALL` to stack the three result rows into a single result set.

---

# Complexity

- **Time complexity:**  
  $$O(n)$$  
  The table is scanned once for each category, which is still linear overall.

- **Space complexity:**  
  $$O(1)$$  
  No extra storage is used beyond the output.

---

# Code

```mysql
SELECT 'Low Salary' AS category,
       SUM(CASE WHEN income < 20000 THEN 1 ELSE 0 END) AS accounts_count
FROM Accounts

UNION ALL

SELECT 'Average Salary' AS category,
       SUM(CASE WHEN income BETWEEN 20000 AND 50000 THEN 1 ELSE 0 END) AS accounts_count
FROM Accounts

UNION ALL

SELECT 'High Salary' AS category,
       SUM(CASE WHEN income > 50000 THEN 1 ELSE 0 END) AS accounts_count
FROM Accounts;
```
