# Sort an Array

# Intuition

We need to sort an array of integers in ascending order **without using built-in sorting functions**.  
A natural first thought is to use **merge sort** because it reliably sorts in O(n log n) time.  
However, merge sort uses extra space for temporary arrays. To minimize space usage, **heap sort** is ideal since it sorts in-place with O(1) extra space.

---

# Approach

1. **Merge Sort (simple but not space-optimal)**
   - Divide the array into two halves recursively.
   - Sort each half.
   - Merge the two sorted halves into one array.
   - Works in O(n log n) time but uses O(n) extra space.

2. **Heap Sort (space-efficient)**
   - **Manual Heapify Method:**
     - Convert the array into a **max heap**.
     - Repeatedly swap the root (max) with the last element in the heap.
     - Restore the heap property by heapifying the root.
     - Continue until the heap size reduces to 1.
     - Works in O(n log n) time with **O(1) extra space**.

   - **Using Python `heapq` Module:**
     - Convert the array into a min-heap using `heapq.heapify()`.
     - Pop elements one by one and store them in a new list.
     - Works in O(n log n) time but uses O(n) extra space for the output array.

---

# Complexity

- **Time complexity:** $$O(n \log n)$$ — building the heap takes O(n), each extraction takes O(log n).
- **Space complexity:**
  - Manual heapify: $$O(1)$$ — sorts array in-place.
  - `heapq` based: $$O(n)$$ — uses extra array for sorted output.

---

# Code

### 1. Manual Heapify Heap Sort

```python
def heapify(arr, n, i):
    largest = i
    left = 2*i + 1
    right = 2*i + 2

    if left < n and arr[left] > arr[largest]:
        largest = left
    if right < n and arr[right] > arr[largest]:
        largest = right
    if largest != i:
        arr[i], arr[largest] = arr[largest], arr[i]
        heapify(arr, n, largest)

def heapSort(arr):
    n = len(arr)

    # Build max heap
    for i in range(n//2 - 1, -1, -1):
        heapify(arr, n, i)

    # Extract elements one by one
    for i in range(n-1, 0, -1):
        arr[0], arr[i] = arr[i], arr[0]
        heapify(arr, i, 0)

    return arr

# Example usage
print(heapSort([5,1,1,2,0,0]))
print(heapSort([5,2,3,1]))
print(heapSort([-4,0,7,4,9,-5,-1,0,-7,-1]))
```

### 2. Heap Sort using `heapq` Module

```python
import heapq

def heapSort(arr):
    heapq.heapify(arr)
    n = len(arr)
    sorted_list = [0] * n

    for i in range(n):
        sorted_list[i] = heapq.heappop(arr)

    return sorted_list

# Example usage
print(heapSort([1,3,5,7,9,2,4,6,8,0]))

```
